import requests
import time
import execjs
headers = {
    "User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/101.0.4951.64 Safari/537.36",
    "Referer": "https://fanyi.baidu.com/",
    "Cookie": """BIDUPSID=6EA5534416224FC52E55B73D42C859C2; PSTM=1699240214; REALTIME_TRANS_SWITCH=1; FANYI_WORD_SWITCH=1; HISTORY_SWITCH=1; SOUND_SPD_SWITCH=1; SOUND_PREFER_SWITCH=1; BDUSS=1FUDFWR2lTN28wTjZJR1JBWlBHTENLajhlMk5laHF6b095ZnRXeDE0b3NES1psRVFBQUFBJCQAAAAAAAAAAAEAAAB4VERYtve08zUxNgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACx~fmUsf35ldE; BDUSS_BFESS=1FUDFWR2lTN28wTjZJR1JBWlBHTENLajhlMk5laHF6b095ZnRXeDE0b3NES1psRVFBQUFBJCQAAAAAAAAAAAEAAAB4VERYtve08zUxNgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACx~fmUsf35ldE; smallFlowVersion=old; BAIDUID=BAB0112C7B2A299C9B4E09A5E724F7CC:FG=1; H_WISE_SIDS_BFESS=60360_60677_60748_60732_60770; MCITY=-238%3A; ZFY=0Z:B7tRtxiYpGGqp:AxtXljmCoariRYVXA5Il9LjMnMa8:C; BAIDUID_BFESS=BAB0112C7B2A299C9B4E09A5E724F7CC:FG=1; RT="z=1&dm=baidu.com&si=705f3d17-93e4-4870-8576-cdc3a56c957f&ss=m1ipiymt&sl=1&tt=1af&bcn=https%3A%2F%2Ffclog.baidu.com%2Flog%2Fweirwood%3Ftype%3Dperf&ld=22j&ul=fid1&hd=fidn"; H_WISE_SIDS=60360_60770_60793_60786_60843; BDRCVFR[22-MnffAYic]=9xWipS8B-FspA7EnHc1QhPEUf; delPer=0; PSINO=2; BDRCVFR[ONzDHlTctls]=9xWipS8B-FspA7EnHc1QhPEUf; BA_HECTOR=21248k25a5042501al00ahah87ng3d1jfc2od1v; BDRCVFR[dG2JNJb_ajR]=mk3SLVN4HKm; BDRCVFR[-pGxjrCMryR]=mk3SLVN4HKm; BDRCVFR[tox4WRQ4-Km]=mk3SLVN4HKm; H_PS_PSSID=60770_60793_60786_60843; BDORZ=FFFB88E999055A3F8A630C64834BD6D0; BCLID=10529042925067734819; BCLID_BFESS=10529042925067734819; BDSFRCVID=17AOJexroG30VkQtnxdgMpcBDuweG7bTDYrEOwXPsp3LGJLVdfIBEG0Pts1-dEu-S2OOogKKyeOTHrkF_2uxOjjg8UtVJeC6EG0Ptf8g0M5; BDSFRCVID_BFESS=17AOJexroG30VkQtnxdgMpcBDuweG7bTDYrEOwXPsp3LGJLVdfIBEG0Pts1-dEu-S2OOogKKyeOTHrkF_2uxOjjg8UtVJeC6EG0Ptf8g0M5; H_BDCLCKID_SF=tJAj_D-btK03fP36qR6sMJ8thmT22-usKCQd2hcHMPoosIOh5UP55-CdyNbubPJG3nvx2Cb5JxbUoqRH-p_BDUAuMprKbpRpy6rwoh5TtUJMjlFGyh_M-xAXLHryKMniMCT9-pn-2hQrh459XP68bTkA5bjZKxtq3mkjbPbDfn028DKuD6-2j63yDNts5JtXKD600PK8Kb7VbI_65MnkbJkXhPteQRb9t5nX5bA5B4JjEl-6QUFM5TL7Qbrr0xRfyNReQIO13hcdSxT4X6bpQT8r5M6ZtxvPJIrrQqDXab3vOPTNXpO1K4PzBN5thURB2DkO-4bCWJ5TMl5jDh3Mb6ksD-Ftqj_efnCHoD_Q5Jj_JJIk-4QEbbQH-UnLq5jOHmOZ04n-ah05hMQc0JO_2-0sXq323f3tbKTx_bom3UTKsqQV-tn6yh0ZQNrlLt3hWmr4KKJxbP8aKJbH5Dc6Dx4ghUJiBbc-Ban7QJvIXKohJh7FM4tW3J0ZyxomtfQxtNRJ0DnjtpChbCDRe5LKD6jM-l-X5to05TIX3b7EfKDbEq7_bJ7KhUbyDbjWQR3XMInM24JJ0qbhfn5jjP5xQhFXQtnfXpOe-n7rKhc1QJbtOqoHQT3m5bJLqfO4-CrgteO9Wb3cW-Tq8UbSK4RPBTD02-nBat-OQ6npaJ5nJq5nhMJmb67JDMr0exbH55uDtnK8oxK; H_BDCLCKID_SF_BFESS=tJAj_D-btK03fP36qR6sMJ8thmT22-usKCQd2hcHMPoosIOh5UP55-CdyNbubPJG3nvx2Cb5JxbUoqRH-p_BDUAuMprKbpRpy6rwoh5TtUJMjlFGyh_M-xAXLHryKMniMCT9-pn-2hQrh459XP68bTkA5bjZKxtq3mkjbPbDfn028DKuD6-2j63yDNts5JtXKD600PK8Kb7VbI_65MnkbJkXhPteQRb9t5nX5bA5B4JjEl-6QUFM5TL7Qbrr0xRfyNReQIO13hcdSxT4X6bpQT8r5M6ZtxvPJIrrQqDXab3vOPTNXpO1K4PzBN5thURB2DkO-4bCWJ5TMl5jDh3Mb6ksD-Ftqj_efnCHoD_Q5Jj_JJIk-4QEbbQH-UnLq5jOHmOZ04n-ah05hMQc0JO_2-0sXq323f3tbKTx_bom3UTKsqQV-tn6yh0ZQNrlLt3hWmr4KKJxbP8aKJbH5Dc6Dx4ghUJiBbc-Ban7QJvIXKohJh7FM4tW3J0ZyxomtfQxtNRJ0DnjtpChbCDRe5LKD6jM-l-X5to05TIX3b7EfKDbEq7_bJ7KhUbyDbjWQR3XMInM24JJ0qbhfn5jjP5xQhFXQtnfXpOe-n7rKhc1QJbtOqoHQT3m5bJLqfO4-CrgteO9Wb3cW-Tq8UbSK4RPBTD02-nBat-OQ6npaJ5nJq5nhMJmb67JDMr0exbH55uDtnK8oxK; Hm_lvt_64ecd82404c51e03dc91cb9e8c025574=1726639454,1727423672; HMACCOUNT=F480386DC69D99E4; APPGUIDE_11_2_8=1; Hm_lpvt_64ecd82404c51e03dc91cb9e8c025574=1727423736; ab_sr=1.0.1_ODYyNDFhMTc3NmVkMzM2YTU5MWUyMDlkMWY3YjQ5MzNjNTdkZjZjMDBkZDcxNjZjNjY2ZjFlOTAwNTY4OGIzYzk1NWYzODlmN2RiYjNlMmJiZjllZjAxODFhY2YzZGYzYjg1ZWMyNTVkZGM3ZWFjMzRjMzYwOTM0OTNiYWI0MjY5M2EwOGQyNzUwMGQ4Mzk3OGYzMzQ5MTE0ZjVkYTZhNDA1M2U1MDZmNTM3ZTBlZGNiN2JiMmY2MzYwZjBhYzA1"""

}

node = execjs.get()
etx = node.compile(open("baidu.js", encoding="utf-8").read())
t = input("请输入单词")
i = "320305.131321201"

funcName = "lv('{0}','{1}')".format(t,i)
sign = etx.eval(funcName)
print(sign)


data = {
    "from": "en",
    "to": "zh",
    "query": t,
    "transtype": "realtime",
    "simple_means_flag": "3",
    "sign": sign,
    "token": "93e672b9ce3549d1f33d487050cb4529",
    "domain": "common",
    "ts": "1727589532185",
}
print(time.time())
url = "https://fanyi.baidu.com/v2transapi?from=en&to=zh"

resp = requests.post(url=url,headers=headers,data=data).json()['trans_result']['data']
print(resp)





